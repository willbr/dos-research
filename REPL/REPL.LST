     1                                  
     2                                  org 100h ; COM files are loaded at 0x100 in memory
     3                                  
     4                                  section .text
     5                                  start:
     6                                      ; Print the prompt
     7 00000000 BA[0000]                    mov dx, prompt
     8 00000003 B409                        mov ah, 09h
     9 00000005 CD21                        int 21h
    10                                  
    11                                      ; Read input from the user
    12 00000007 8D16[0200]                  lea dx, [buffer]
    13 0000000B B40A                        mov ah, 0Ah
    14 0000000D CD21                        int 21h
    15                                  
    16                                      ; Echo the input back
    17 0000000F 8D16[0400]                  lea dx, [buffer + 2] ; skip the maximum character count and actual count
    18 00000013 B409                        mov ah, 09h
    19 00000015 CD21                        int 21h
    20                                  
    21 00000017 EBE7                        jmp start ; loop indefinitely
    22                                  
    23                                  section .data
    24 00000000 3E24                    prompt db '>', '$'
    25 00000002 FF0000000000000000-     buffer db 255, 0, 255 dup(0) ; buffer space for input
    25 0000000B 000000000000000000-
    25 00000014 000000000000000000-
    25 0000001D 000000000000000000-
    25 00000026 000000000000000000-
    25 0000002F 000000000000000000-
    25 00000038 000000000000000000-
    25 00000041 000000000000000000-
    25 0000004A 000000000000000000-
    25 00000053 000000000000000000-
    25 0000005C 000000000000000000-
    25 00000065 000000000000000000-
    25 0000006E 000000000000000000-
    25 00000077 000000000000000000-
    25 00000080 000000000000000000-
    25 00000089 000000000000000000-
    25 00000092 000000000000000000-
    25 0000009B 000000000000000000-
    25 000000A4 000000000000000000-
    25 000000AD 000000000000000000-
    25 000000B6 000000000000000000-
    25 000000BF 000000000000000000-
    25 000000C8 000000000000000000-
    25 000000D1 000000000000000000-
    25 000000DA 000000000000000000-
    25 000000E3 000000000000000000-
    25 000000EC 000000000000000000-
    25 000000F5 000000000000000000-
    25 000000FE 0000000000         
    26                                  
    27                                  
